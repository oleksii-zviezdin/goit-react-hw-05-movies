{"version":3,"file":"static/js/551.ad9a36d8.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","pages/Movies/Movies.styled.jsx","components/Searchbar.jsx","pages/Movies/Movies.jsx","service/fetchAPI.js","../node_modules/node-fetch/browser.js"],"sourcesContent":["import { Link } from 'react-router-dom';\n\nconst MovieList = ({ data, location }) => {\n  return (\n    <ul>\n      {data &&\n        data.map(({ title, id }) => (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default MovieList;\n","import styled from '@emotion/styled';\n\nexport const SearchButton = styled.button`\n  background-color: #afaaff;\n  border: 1px solid #d5d9d9;\n  border-radius: 8px;\n  box-sizing: border-box;\n  color: #0f1111;\n  cursor: pointer;\n  display: inline-block;\n  padding: 8px 10px 8px 10px;\n  position: relative;\n  text-align: center;\n  text-decoration: none;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  vertical-align: middle;\n  width: 100px;\n\n  &:hover {\n    background-color: #9e97ff;\n  }\n\n  &:focus {\n    border-color: #9e97ff;\n    box-shadow: rgba(213, 217, 217, 0.5) 0 2px 5px 0;\n    outline: 0;\n  }\n`;\n","import { useState } from 'react';\nimport { SearchButton } from '../pages/Movies/Movies.styled';\n\nexport const Searchbar = ({ handleSubmit }) => {\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleChange = e => {\n    const inputValue = e.currentTarget.value;\n    setSearchValue(inputValue.trim());\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    if (!searchValue) return;\n    handleSubmit(searchValue);\n  };\n\n  return (\n    <form onSubmit={handleSubmitForm}>\n      <input onChange={handleChange} type=\"text\" />\n      <SearchButton type=\"submit\">Search</SearchButton>\n    </form>\n  );\n};\n\nexport default Searchbar;\n","import { useEffect, useState } from 'react';\nimport { fetchSearchMovie } from 'service/fetchAPI';\nimport Searchbar from 'components/Searchbar';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport MovieList from 'components/MovieList/MovieList';\nimport Loader from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [data, setData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const movieId = searchParams.get(`movieId`) ?? '';\n  const urlLocation = useLocation();\n\n  useEffect(() => {\n    if (!movieId) return;\n    setIsLoading(true);\n\n    fetchSearchMovie(movieId)\n      .then(({ results }) => {\n        if (!results.length) {\n          setSearchParams({});\n          throw new Error(`за запитом \"${movieId}\" нічого не знайдено`);\n        }\n        setData(results);\n      })\n      .catch(err => alert('error:' + err))\n      .finally(setIsLoading(false));\n  }, [movieId, setSearchParams]);\n\n  const handleSubmit = searchMovieId => {\n    if (!searchMovieId) return setSearchParams({});\n    setSearchParams({ movieId: searchMovieId });\n  };\n\n  return (\n    <main>\n      {isLoading && <Loader />}\n      <Searchbar handleSubmit={handleSubmit} />\n      {data.length !== 0 && <MovieList data={data} location={urlLocation} />}\n      {!isLoading && <MovieList data={data} location={urlLocation} />}\n    </main>\n  );\n};\n\nexport default Movies;\n","const BASE_URL = `https://api.themoviedb.org/3/`;\n\nconst fetch = require('node-fetch');\nconst options = {\n        method: 'GET',\n        headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYTBkOGUyNTQ0ZTgxNzg3NTJlYTQ3YTI0ZGI3NjFkOCIsInN1YiI6IjY0NmQxOTYxYzM1MTRjMmIwNjg4OTdiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1c5ZzEt1F0rRDlRLvBxcNocvVNrwAuMtwV3umPbxDRg'\n    }\n    };\n\nconst fetchTrandingMovies = data => {\n    const url = `${BASE_URL}trending/movie/day?language=en-US`;\n    if (data.length === 0) return\n    \n    return fetch(url, options)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(`res.ok is \"${res.ok}\"`)\n            }\n            return res.json()\n        })\n}\n\nconst fetchSearchMovie = value => {\n    const url = `${BASE_URL}search/movie?query=${value}&include_adult=false&language=en-US&page=1`;\n    if (!value) return\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchMovieById = (movieId) => {\n    const url = `${BASE_URL}movie/${movieId}?language=en-US`;\n    if(!movieId || movieId === \"\") return\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchCreditsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`;\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchReviewsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`;\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nexport {fetchSearchMovie, fetchTrandingMovies, fetchMovieById, fetchCreditsById, fetchReviewsById}","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n"],"names":["data","location","map","title","id","to","state","from","SearchButton","styled","handleSubmit","useState","searchValue","setSearchValue","onSubmit","e","preventDefault","onChange","inputValue","currentTarget","value","trim","type","setData","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","movieId","get","urlLocation","useLocation","useEffect","fetchSearchMovie","then","results","length","Error","catch","err","alert","finally","Loader","searchMovieId","MovieList","BASE_URL","fetch","require","options","method","headers","accept","Authorization","fetchTrandingMovies","url","res","ok","json","fetchMovieById","fetchCreditsById","fetchReviewsById","globalObject","self","window","global","getGlobal","module","exports","bind","Headers","Request","Response"],"sourceRoot":""}