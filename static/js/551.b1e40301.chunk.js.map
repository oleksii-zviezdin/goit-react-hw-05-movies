{"version":3,"file":"static/js/551.b1e40301.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/MovieList/MovieList.jsx","pages/Movies/Movies.styled.jsx","components/Searchbar.jsx","pages/Movies/Movies.jsx","service/fetchAPI.js","../node_modules/node-fetch/browser.js"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport {Rings} from 'react-loader-spinner'\n\nexport const LoaderWrapper = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    backdrop-filter: blur(10px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport const LoaderCSS = styled(Rings)`\n    width: 250px;\n    height: 250px;\n    position: absolute;\n    color: blue;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`;","import { Link } from \"react-router-dom\";\n\nconst MovieList = ({ data, location }) => {\n    return(\n            <ul>\n                {data && data.map(({title, id}) => <li key={id}><Link to={`/movies/${id}`} state={{ from: location }}>{title}</Link></li>)}\n            </ul>\n    )\n}\n\nexport default MovieList","import styled from \"@emotion/styled\";\n\nexport const SearchButton = styled.button`\n    background-color: #afaaff;\n    border: 1px solid #d5d9d9;\n    border-radius: 8px;\n    box-sizing: border-box;\n    color: #0f1111;\n    cursor: pointer;\n    display: inline-block;\n    padding: 8px 10px 8px 10px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    width: 100px;\n\n&:hover {\n    background-color: #9e97ff;\n}\n\n&:focus {\n    border-color: #9e97ff;\n    box-shadow: rgba(213, 217, 217, .5) 0 2px 5px 0;\n    outline: 0;\n}`","import { useState } from \"react\";\nimport { SearchButton } from \"../pages/Movies/Movies.styled\"\n\nexport const Searchbar = ({handleSubmit}) => {\n    const [searchValue, setSearchValue] = useState('')\n    \n    const handleChange = e => {\n        const inputValue = e.currentTarget.value;\n        setSearchValue(inputValue.trim())\n    }\n\n    const handleSubmitForm = e => {\n        e.preventDefault();\n        \n        if (!searchValue) return\n        handleSubmit(searchValue);\n    }\n\n    return (\n            <form onSubmit={handleSubmitForm}>\n                <input\n                    onChange={handleChange}\n                    type=\"text\"\n                />\n                <SearchButton type=\"submit\">Search</SearchButton>\n            </form>\n    )\n}\n\nexport default Searchbar","import { useEffect, useRef, useState } from \"react\"\nimport { fetchSearchMovie } from \"service/fetchAPI\"\nimport Searchbar from \"components/Searchbar\"\nimport { useSearchParams, useLocation } from \"react-router-dom\"\nimport MovieList from \"components/MovieList/MovieList\"\nimport { LoaderCSS, LoaderWrapper } from \"components/Loader/Loader.styled\";\n\nconst Movies = () => {\n    const [data, setData] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [isLoading, setIsLoading] = useState(false);\n    const movieId = searchParams.get(`movieId`) ?? \"\";\n    const previousMovieId = useRef(movieId)\nconsole.log(previousMovieId)\n    const urlLocation = useLocation();\n\n    useEffect(() => {\n        if (!movieId || previousMovieId.current === '') return\n        setIsLoading(true)\n        fetchSearchMovie(movieId)\n            .then(({ results }) => {\n                if (!results.length) {  \n                    throw new Error(`за запитом \"${movieId}\" нічого не знайдено`)\n                };\n                setData(results)\n            })\n            .catch(err => alert('error:' + err))\n            .finally(setIsLoading(false));\n    }, [movieId])\n    \n    const handleSubmit = searchMovieId => {\n        console.log(`this is in Movies page ${searchMovieId}`)\n        setIsLoading(true)\n        \n        if (!searchMovieId) return setSearchParams({})\n        setSearchParams({ movieId: searchMovieId })\n        fetchSearchMovie(searchMovieId)\n            .then(({ results }) => {\n                if (!results.length) {\n                setSearchParams({})\n                    throw new Error(`за запитом \"${searchMovieId}\" нічого не знайдено`)\n                };\n                setData(results)\n            })\n            .catch(err => {\n                alert('error:' + err)\n            })\n            .catch(err => alert('error:' + err))\n            .finally(setIsLoading(false));\n    };\n\n    return (\n        <main>\n            {isLoading &&  <LoaderWrapper>                 \n                                <LoaderCSS />\n                            </LoaderWrapper>}  \n            <Searchbar handleSubmit={handleSubmit}/>\n            {/* {data.length !== 0 && <MovieList data={data} location={urlLocation} />} */}\n            {!isLoading && <MovieList data={data} location={urlLocation} />}\n        </main>\n    )\n}\n\nexport default Movies","const BASE_URL = `https://api.themoviedb.org/3/`;\n\nconst fetch = require('node-fetch');\nconst options = {\n        method: 'GET',\n        headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYTBkOGUyNTQ0ZTgxNzg3NTJlYTQ3YTI0ZGI3NjFkOCIsInN1YiI6IjY0NmQxOTYxYzM1MTRjMmIwNjg4OTdiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1c5ZzEt1F0rRDlRLvBxcNocvVNrwAuMtwV3umPbxDRg'\n    }\n    };\n\nconst fetchTrandingMovies = data => {\n    const url = `${BASE_URL}trending/movie/day?language=en-US`;\n    if (data.length === 0) return\n    \n    return fetch(url, options)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(`res.ok is \"${res.ok}\"`)\n            }\n            return res.json()\n        })\n}\n\nconst fetchSearchMovie = value => {\n    const url = `${BASE_URL}search/movie?query=${value}&include_adult=false&language=en-US&page=1`;\n    if (!value) return\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchMovieById = (movieId) => {\n    const url = `${BASE_URL}movie/${movieId}?language=en-US`;\n    if(!movieId || movieId === \"\") return\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchCreditsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`;\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchReviewsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`;\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nexport {fetchSearchMovie, fetchTrandingMovies, fetchMovieById, fetchCreditsById, fetchReviewsById}","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n"],"names":["LoaderWrapper","styled","LoaderCSS","Rings","data","location","map","title","id","to","state","from","SearchButton","handleSubmit","useState","searchValue","setSearchValue","onSubmit","e","preventDefault","onChange","inputValue","currentTarget","value","trim","type","setData","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","movieId","get","previousMovieId","useRef","console","log","urlLocation","useLocation","useEffect","current","fetchSearchMovie","then","results","length","Error","catch","err","alert","finally","searchMovieId","MovieList","BASE_URL","fetch","require","options","method","headers","accept","Authorization","fetchTrandingMovies","url","res","ok","json","fetchMovieById","fetchCreditsById","fetchReviewsById","globalObject","self","window","global","getGlobal","module","exports","bind","Headers","Request","Response"],"sourceRoot":""}