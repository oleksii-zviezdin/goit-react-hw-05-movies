"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[551],{4126:function(n,e,t){var r=t(1087),o=t(184);e.Z=function(n){var e=n.data,t=n.location;return(0,o.jsx)("ul",{children:e&&e.map((function(n){var e=n.title,i=n.id;return(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{to:"/movies/".concat(i),state:{from:t},children:e})},i)}))})}},5551:function(n,e,t){t.r(e),t.d(e,{default:function(){return p}});var r,o=t(9439),i=t(2791),c=t(652),a=t(168),u=t(5706).Z.button(r||(r=(0,a.Z)(["\n    background-color: #afaaff;\n    border: 1px solid #d5d9d9;\n    border-radius: 8px;\n    box-sizing: border-box;\n    color: #0f1111;\n    cursor: pointer;\n    display: inline-block;\n    padding: 8px 10px 8px 10px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    width: 100px;\n\n&:hover {\n    background-color: #9e97ff;\n}\n\n&:focus {\n    border-color: #9e97ff;\n    box-shadow: rgba(213, 217, 217, .5) 0 2px 5px 0;\n    outline: 0;\n}"]))),s=t(184),f=function(n){var e=n.handleSubmit,t=(0,i.useState)(""),r=(0,o.Z)(t,2),c=r[0],a=r[1];return(0,s.jsxs)("form",{onSubmit:function(n){n.preventDefault(),c&&e(c)},children:[(0,s.jsx)("input",{onChange:function(n){var e=n.currentTarget.value;a(e.trim())},type:"text"}),(0,s.jsx)(u,{type:"submit",children:"Search"})]})},l=t(1087),d=t(7689),h=t(4126),g=t(5067),p=function(){var n,e=(0,i.useState)([]),t=(0,o.Z)(e,2),r=t[0],a=t[1],u=(0,l.lr)(),p=(0,o.Z)(u,2),v=p[0],w=p[1],x=(0,i.useState)(!1),b=(0,o.Z)(x,2),m=b[0],k=b[1],j=null!==(n=v.get("movieId"))&&void 0!==n?n:"",y=(0,i.useRef)(j);console.log(y);var I=(0,d.TH)();(0,i.useEffect)((function(){j&&""!==y.current&&(k(!0),(0,c.Ai)(j).then((function(n){var e=n.results;if(!e.length)throw new Error('\u0437\u0430 \u0437\u0430\u043f\u0438\u0442\u043e\u043c "'.concat(j,'" \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'));a(e)})).catch((function(n){return alert("error:"+n)})).finally(k(!1)))}),[j]);return(0,s.jsxs)("main",{children:[(0,s.jsx)(f,{handleSubmit:function(n){if(console.log("this is in Movies page ".concat(n)),k(!0),!n)return w({});w({movieId:n}),(0,c.Ai)(n).then((function(e){var t=e.results;if(!t.length)throw w({}),new Error('\u0437\u0430 \u0437\u0430\u043f\u0438\u0442\u043e\u043c "'.concat(n,'" \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'));a(t)})).catch((function(n){alert("error:"+n)})).catch((function(n){return alert("error:"+n)})).finally(k(!1))}}),!m&&(0,s.jsx)(h.Z,{data:r,location:I}),m&&(0,s.jsx)(g.Z,{})]})}},652:function(n,e,t){t.d(e,{Ai:function(){return a},CL:function(){return s},DC:function(){return c},Mc:function(){return u},wH:function(){return f}});var r="https://api.themoviedb.org/3/",o=t(5359),i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYTBkOGUyNTQ0ZTgxNzg3NTJlYTQ3YTI0ZGI3NjFkOCIsInN1YiI6IjY0NmQxOTYxYzM1MTRjMmIwNjg4OTdiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1c5ZzEt1F0rRDlRLvBxcNocvVNrwAuMtwV3umPbxDRg"}},c=function(n){var e="".concat(r,"trending/movie/day?language=en-US");if(0!==n.length)return o(e,i).then((function(n){if(!n.ok)throw new Error('res.ok is "'.concat(n.ok,'"'));return n.json()}))},a=function(n){var e="".concat(r,"search/movie?query=").concat(n,"&include_adult=false&language=en-US&page=1");if(n)return o(e,i).then((function(n){if(!n.ok)throw new Error('res.ok is "'.concat(n.ok,'"'));return n.json()}))},u=function(n){var e="".concat(r,"movie/").concat(n,"?language=en-US");if(n&&""!==n)return o(e,i).then((function(n){if(!n.ok)throw new Error('res.ok is "'.concat(n.ok,'"'));return n.json()}))},s=function(n){var e="https://api.themoviedb.org/3/movie/".concat(n,"/credits?language=en-US");return o(e,i).then((function(n){if(!n.ok)throw new Error('res.ok is "'.concat(n.ok,'"'));return n.json()}))},f=function(n){var e="https://api.themoviedb.org/3/movie/".concat(n,"/reviews?language=en-US&page=1");return o(e,i).then((function(n){if(!n.ok)throw new Error('res.ok is "'.concat(n.ok,'"'));return n.json()}))}},5359:function(n,e,t){var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t.g)return t.g;throw new Error("unable to locate global object")}();n.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response}}]);
//# sourceMappingURL=551.fbe4dbcb.chunk.js.map