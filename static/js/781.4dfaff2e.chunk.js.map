{"version":3,"file":"static/js/781.4dfaff2e.chunk.js","mappings":"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","sources":["components/backBtn.jsx","pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","service/fetchAPI.js","../node_modules/node-fetch/browser.js"],"sourcesContent":["const BackBtn = () => {\n  return (\n    <div>\n      <button type=\"button\">Back</button>\n    </div>\n  );\n};\n\nexport default BackBtn;\n","import styled from '@emotion/styled';\n\nexport const MovieDetailsStyled = styled.div`\n  display: flex;\n  gap: 20px;\n`;\n","import { fetchMovieById } from 'service/fetchAPI';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useEffect, useState, useRef } from 'react';\nimport BackBtn from 'components/backBtn';\nimport { MovieDetailsStyled } from './MovieDetails.styled';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const [dataMovie, setDataMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n  const urlLocation = useLocation();\n  const previousUrlLocation = useRef(urlLocation?.state?.from ?? '/movies');\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    fetchMovieById(movieId)\n      .then(movieData => setDataMovie(movieData))\n      .catch(err => console.error('error:' + err))\n      .finally(setIsLoading(false));\n  }, [movieId]);\n\n  if (!dataMovie) return;\n\n  const IMG = dataMovie.poster_path\n    ? `https://image.tmdb.org/t/p/w500/${dataMovie.poster_path}`\n    : `https://via.placeholder.com/500x750`;\n  const releaseData = dataMovie.release_date\n    ? `(${dataMovie.release_date.slice(0, 4)})`\n    : '';\n\n  return (\n    <>\n      <Link to={previousUrlLocation.current}>\n        <BackBtn />\n      </Link>\n      <MovieDetailsStyled>\n        {isLoading && <Loader />}\n        {dataMovie && (\n          <>\n            <div>\n              <img src={IMG} alt={dataMovie.title} />\n            </div>\n            <div>\n              <h1>{`${dataMovie.title} ${releaseData}`}</h1>\n              <span>\n                User Score: {Math.round(dataMovie.vote_average * 10)}%\n              </span>\n              <h2>Overview</h2>\n              <p>{dataMovie?.overview}</p>\n              {!dataMovie.overview && (\n                <p>We don't have any overwiev for this movie</p>\n              )}\n              <h3>Genres</h3>\n              {dataMovie?.genres &&\n                dataMovie.genres.map(({ name, id }) => (\n                  <span key={id}>{name} </span>\n                ))}\n              {!dataMovie.genres.length && (\n                <p>We don't have any genres for this movie</p>\n              )}\n            </div>\n          </>\n        )}\n      </MovieDetailsStyled>\n      <div>\n        <h4>Additional information</h4>\n        <ul>\n          <Link\n            to={`credits`}\n            // state={{ from: urlLocation?.state?.from ?? '/movies' }}\n          >\n            <li>Credits</li>\n          </Link>\n          <Link\n            to={`reviews`}\n            // state={{ from: urlLocation?.state?.from ?? '/movies' }}\n          >\n            <li>Reviews</li>\n          </Link>\n        </ul>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","const BASE_URL = `https://api.themoviedb.org/3/`;\n\nconst fetch = require('node-fetch');\nconst options = {\n        method: 'GET',\n        headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYTBkOGUyNTQ0ZTgxNzg3NTJlYTQ3YTI0ZGI3NjFkOCIsInN1YiI6IjY0NmQxOTYxYzM1MTRjMmIwNjg4OTdiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1c5ZzEt1F0rRDlRLvBxcNocvVNrwAuMtwV3umPbxDRg'\n    }\n    };\n\nconst fetchTrandingMovies = data => {\n    const url = `${BASE_URL}trending/movie/day?language=en-US`;\n    if (data.length === 0) return\n    \n    return fetch(url, options)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(`res.ok is \"${res.ok}\"`)\n            }\n            return res.json()\n        })\n}\n\nconst fetchSearchMovie = value => {\n    const url = `${BASE_URL}search/movie?query=${value}&include_adult=false&language=en-US&page=1`;\n    if (!value) return\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchMovieById = (movieId) => {\n    const url = `${BASE_URL}movie/${movieId}?language=en-US`;\n    if(!movieId || movieId === \"\") return\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchCreditsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`;\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchReviewsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`;\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nexport {fetchSearchMovie, fetchTrandingMovies, fetchMovieById, fetchCreditsById, fetchReviewsById}","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n"],"names":["type","MovieDetailsStyled","styled","useState","dataMovie","setDataMovie","isLoading","setIsLoading","movieId","useParams","urlLocation","useLocation","previousUrlLocation","useRef","state","from","useEffect","fetchMovieById","then","movieData","catch","err","console","error","finally","IMG","poster_path","releaseData","release_date","slice","to","current","Loader","src","alt","title","Math","round","vote_average","overview","genres","map","name","id","length","BASE_URL","fetch","require","options","method","headers","accept","Authorization","fetchTrandingMovies","data","url","res","ok","Error","json","fetchSearchMovie","value","fetchCreditsById","fetchReviewsById","globalObject","self","window","global","getGlobal","module","exports","bind","Headers","Request","Response"],"sourceRoot":""}