{"version":3,"file":"static/js/781.b91c4a37.chunk.js","mappings":"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","sources":["components/backBtn.jsx","pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","service/fetchAPI.js","../node_modules/node-fetch/browser.js"],"sourcesContent":["const BackBtn = () => {\n    return (\n    <div><button type=\"button\">Back</button></div>\n    )\n}\n\nexport default BackBtn","import styled from \"@emotion/styled\";\n\nexport const MovieDetailsStyled = styled.div`\n    display: flex;\n    gap: 20px;\n`","import { fetchMovieById } from \"service/fetchAPI\";\nimport { Link, Outlet, useLocation, useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport BackBtn from \"components/backBtn\";\nimport { MovieDetailsStyled } from \"./MovieDetails.styled\";\nimport Loader from \"components/Loader/Loader\";\n\nconst MovieDetails = () => {\n    const [dataMovie, setDataMovie] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const { movieId } = useParams();\n    const urlLocation = useLocation();\n    \n    useEffect(() => {\n        setIsLoading(true)\n\n        fetchMovieById(movieId)\n        .then(movieData => setDataMovie(movieData))\n            .catch(err => console.error('error:' + err))\n            .finally(setIsLoading(false));\n    }, [movieId]);\n    \n    if (!dataMovie) return\n\n    const IMG = dataMovie.poster_path ? `https://image.tmdb.org/t/p/w500/${dataMovie.poster_path}` : `https://via.placeholder.com/500x750`;\n    const releaseData = dataMovie.release_date ? `(${dataMovie.release_date.slice(0, 4)})` : '';\n    \n    return (\n        <>\n            <Link to={urlLocation.state ? urlLocation.state.from  :'/movies'}><BackBtn /></Link>\n            <MovieDetailsStyled>\n            {isLoading && <Loader/>}  \n            {!isLoading &&\n                <>\n                    <div>\n                        <img\n                            src={IMG}\n                            alt={dataMovie.title}\n                        />\n                    </div>\n                    <div>\n                        <h1>{`${dataMovie.title} ${releaseData}`}</h1>\n                            <span >User Score: {Math.round(dataMovie.vote_average * 10)}%</span>\n                        <h2>Overview</h2>\n                            <p>{dataMovie?.overview}</p>\n                            {!dataMovie.overview && <p>We don't have any overwiev for this movie</p>}\n                        <h3>Genres</h3>\n                            {dataMovie?.genres && dataMovie.genres.map(({ name, id }) => <span key={id}>{name} </span>) }\n                            {!dataMovie.genres.length && <p>We don't have any genres for this movie</p>}\n                    </div>\n                </>}\n            </MovieDetailsStyled>\n            <div>\n                <h4>Additional information</h4>\n                <ul>\n                    <Link to={`credits`} state={{from: urlLocation.state ? urlLocation.state.from  :'/movies'}}><li>Credits</li></Link>\n                    <Link to={`reviews`} state={{ from: urlLocation.state ? urlLocation.state.from : '/movies' }}><li>Reviews</li></Link>\n                    \n                    {/*при такому записі все працює до моменту, коли клікну на CREDITS або REVIEWS, Тоді при кліці на кнопку back мене ЗАВЖДИ перенаправляє ТІЛЬКИ на сторінку MOVIES навіть якщо я заходив з сторінки HOME, може я щось не так приписую...*/}\n                    {/* <Link to={`credits`} state={{from: urlLocation?.state?.from  && '/movies'}}><li>Credits</li></Link>\n                    <Link to={`reviews`} state={{from: urlLocation?.state?.from  && '/movies'}}><li>Reviews</li></Link> */}\n                </ul>\n                <Outlet/>\n            </div>\n            </>\n    )\n}\n\nexport default MovieDetails","const BASE_URL = `https://api.themoviedb.org/3/`;\n\nconst fetch = require('node-fetch');\nconst options = {\n        method: 'GET',\n        headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYTBkOGUyNTQ0ZTgxNzg3NTJlYTQ3YTI0ZGI3NjFkOCIsInN1YiI6IjY0NmQxOTYxYzM1MTRjMmIwNjg4OTdiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.1c5ZzEt1F0rRDlRLvBxcNocvVNrwAuMtwV3umPbxDRg'\n    }\n    };\n\nconst fetchTrandingMovies = data => {\n    const url = `${BASE_URL}trending/movie/day?language=en-US`;\n    if (data.length === 0) return\n    \n    return fetch(url, options)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(`res.ok is \"${res.ok}\"`)\n            }\n            return res.json()\n        })\n}\n\nconst fetchSearchMovie = value => {\n    const url = `${BASE_URL}search/movie?query=${value}&include_adult=false&language=en-US&page=1`;\n    if (!value) return\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchMovieById = (movieId) => {\n    const url = `${BASE_URL}movie/${movieId}?language=en-US`;\n    if(!movieId || movieId === \"\") return\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchCreditsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`;\n    \n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nconst fetchReviewsById = (movieId) => {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`;\n\n    return fetch(url, options)\n    .then(res => {\n            if (!res.ok) throw new Error(`res.ok is \"${res.ok}\"`)\n            return res.json()\n        })\n}\n\nexport {fetchSearchMovie, fetchTrandingMovies, fetchMovieById, fetchCreditsById, fetchReviewsById}","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n"],"names":["type","MovieDetailsStyled","styled","useState","dataMovie","setDataMovie","isLoading","setIsLoading","movieId","useParams","urlLocation","useLocation","useEffect","fetchMovieById","then","movieData","catch","err","console","error","finally","IMG","poster_path","releaseData","release_date","slice","to","state","from","Loader","src","alt","title","Math","round","vote_average","overview","genres","map","name","id","length","BASE_URL","fetch","require","options","method","headers","accept","Authorization","fetchTrandingMovies","data","url","res","ok","Error","json","fetchSearchMovie","value","fetchCreditsById","fetchReviewsById","globalObject","self","window","global","getGlobal","module","exports","bind","Headers","Request","Response"],"sourceRoot":""}